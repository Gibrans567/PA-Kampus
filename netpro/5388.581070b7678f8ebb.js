"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5388],{31849:($,T,r)=>{r.d(T,{$:()=>t});var _=r(14085),p=r(87122),e=r(54438);const s=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],E=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function g(n,C){1&n&&(e.j41(0,"div",0),e.SdG(1),e.k0s(),e.j41(2,"div",1),e.SdG(3,1),e.k0s())}function U(n,C){1&n&&(e.j41(0,"div",2),e.SdG(1,3),e.k0s()),2&n&&e.Y8G("@expandCollapse",void 0)}function l(n,C){if(1&n&&(e.SdG(0,2),e.DNE(1,U,2,1,"div",2)),2&n){const b=e.XpG();e.R7$(),e.vxM(b.expanded?1:-1)}}let t=(()=>{class n{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&"back"===this.face,"fuse-card-face-front":this.flippable&&"front"===this.face,"fuse-card-flippable":this.flippable}}ngOnChanges(b){"expanded"in b&&(this.expanded=(0,_.he)(b.expanded.currentValue)),"flippable"in b&&(this.flippable=(0,_.he)(b.flippable.currentValue))}static{this.\u0275fac=function(y){return new(y||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(y,x){2&y&&e.HbH(x.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[e.OA$],ngContentSelectors:E,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(y,x){1&y&&(e.NAR(s),e.DNE(0,g,4,0)(1,l,2,1)),2&y&&(e.vxM(x.flippable?0:-1),e.R7$(),e.vxM(x.flippable?-1:1))},styles:["fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}\n"],encapsulation:2,data:{animation:p.X}})}}return n})()},2359:($,T,r)=>{r.d(T,{X:()=>O});var _=r(10467),p=r(60177),e=r(89417),s=r(75351),E=r(30636),g=r(99213),U=r(59042),l=r(22080),t=r(54438),n=r(45794),C=r(3366),b=r(73387),y=r(46601);const x=c=>({"py-2":c});function R(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,"Profile name is required"),t.k0s())}function W(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,"Shared User is required"),t.k0s())}function a(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,"Upload is required"),t.k0s())}function h(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,'Upload is must be Number and ends with "M", "M" is for Mbps'),t.k0s())}function P(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,"Download is required"),t.k0s())}function M(c,L){1&c&&(t.j41(0,"mat-error"),t.EFF(1,'Download is must be Number and ends with "M", "M" is for Mbps'),t.k0s())}let O=(()=>{class c{constructor(f,k,m,w,S,I,j,F){this.fb=f,this._toast=k,this._apiService=m,this._tableUserProfileService=w,this.dialogRef=S,this.fuseConfirmationService=I,this._toastService=j,this.data=F,this.isLoading=!1}ngOnInit(){this.roleForm=this.fb.group({profile_name:["",[e.k0.required]],shared_users:["",[e.k0.required,e.k0.pattern(/^\d+$/)]],upload:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]],download:["",[e.k0.required,e.k0.pattern(/^\d+M$/)]]})}onNoClick(){this.dialogRef.close()}onSubmit(){var f=this;return(0,_.A)(function*(){try{if(f.isLoading=!0,f.roleForm.valid){const k=f.roleForm.get("profile_name")?.value,m=f.roleForm.get("shared_users")?.value,w=f.roleForm.get("upload")?.value,S=f.roleForm.get("download")?.value,j={profile_name:k,shared_users:m,rate_limit:`${w}/${S}`,link:"https://google.com"},F=yield f._apiService.post("/api/mikrotik/set-profile",j);"Hotspot profile created successfully"===F.message&&(f.roleForm.reset(),f.dialogRef.close(),f._tableUserProfileService.fetchData(),f._toast.success("Success Create User Profile","Success")),500===F.status?f._toast.error("Internal Server Error","Error"):"Profile dan link sudah ada, tidak ada perubahan yang dilakukan"===F.message?f.fuseConfirmationService.open({title:"Notification",message:"The user profile already exists on the server. Would you like to create another user profile anyway?",icon:{color:"error"},actions:{confirm:{label:"Confirmation",color:"warn"}}}):(404===F.status||400===F.status)&&f._toast.error("Failed Create User Profile","Error")}else f._toastService.info("Please Fill in All Required Fields!","Information")}catch{f._toast.error("Failed Create User Profile","Error")}finally{f.isLoading=!1}})()}static{this.\u0275fac=function(k){return new(k||c)(t.rXU(e.ok),t.rXU(n.tw),t.rXU(C.G),t.rXU(b.Q),t.rXU(s.CP),t.rXU(y.G),t.rXU(n.tw),t.rXU(s.Vh))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-form-add"]],decls:34,vars:24,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full",3,"ngClass"],["matInput","","formControlName","profile_name","type","text",3,"placeholder"],[4,"ngIf"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","formControlName","upload",3,"placeholder"],["matInput","","formControlName","download",3,"placeholder"],[1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(k,m){if(1&k&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Add User Profile"),t.k0s()(),t.j41(5,"a",4),t.bIt("click",function(){return m.onNoClick()}),t.nrm(6,"mat-icon",5),t.k0s()(),t.nrm(7,"ion-loading",6),t.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),t.EFF(12,"Profile Name"),t.k0s(),t.nrm(13,"input",10),t.DNE(14,R,2,0,"mat-error",11),t.k0s(),t.j41(15,"mat-form-field",9)(16,"mat-label"),t.EFF(17,"Shared User"),t.k0s(),t.nrm(18,"input",12),t.DNE(19,W,2,0,"mat-error",11),t.k0s(),t.j41(20,"mat-form-field",9)(21,"mat-label"),t.EFF(22,"Upload"),t.k0s(),t.nrm(23,"input",13),t.DNE(24,a,2,0,"mat-error",11)(25,h,2,0,"mat-error",11),t.k0s(),t.j41(26,"mat-form-field",9)(27,"mat-label"),t.EFF(28,"Download"),t.k0s(),t.nrm(29,"input",14),t.DNE(30,P,2,0,"mat-error",11)(31,M,2,0,"mat-error",11),t.k0s(),t.j41(32,"button",15),t.bIt("click",function(){return m.onSubmit()}),t.EFF(33," Add User Profile "),t.k0s()()()()),2&k){let w,S,I,j,F,G,N,A,B,Y;t.R7$(7),t.Y8G("isOpen",m.isLoading),t.R7$(2),t.Y8G("formGroup",m.roleForm),t.R7$(),t.Y8G("ngClass",t.eq3(16,x,(null==(w=m.roleForm.get("profile_name"))?null:w.invalid)&&(null==(w=m.roleForm.get("profile_name"))?null:w.touched))),t.R7$(3),t.Y8G("placeholder","Profile Name"),t.R7$(),t.Y8G("ngIf",null==(S=m.roleForm.get("profile_name"))?null:S.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(18,x,(null==(I=m.roleForm.get("shared_users"))?null:I.invalid)&&(null==(I=m.roleForm.get("shared_users"))?null:I.touched))),t.R7$(3),t.Y8G("placeholder","How many device can be connected? (e.g. 10)"),t.R7$(),t.Y8G("ngIf",null==(j=m.roleForm.get("shared_users"))?null:j.hasError("required")),t.R7$(),t.Y8G("ngClass",t.eq3(20,x,(null==(F=m.roleForm.get("upload"))?null:F.invalid)&&(null==(F=m.roleForm.get("upload"))?null:F.touched))),t.R7$(3),t.Y8G("placeholder","Upload Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(G=m.roleForm.get("upload"))?null:G.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(N=m.roleForm.get("upload"))?null:N.hasError("pattern")),t.R7$(),t.Y8G("ngClass",t.eq3(22,x,(null==(A=m.roleForm.get("download"))?null:A.invalid)&&(null==(A=m.roleForm.get("download"))?null:A.touched))),t.R7$(3),t.Y8G("placeholder","Download Limit (e.g. 10M)"),t.R7$(),t.Y8G("ngIf",null==(B=m.roleForm.get("download"))?null:B.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(Y=m.roleForm.get("download"))?null:Y.hasError("pattern"))}},dependencies:[E.RG,E.rl,E.nJ,E.TL,e.YN,e.qT,e.me,e.Q0,e.BC,e.cb,U.fS,U.fg,e.X1,e.j4,e.JD,p.MD,p.YU,p.bT,g.m_,g.An,l.rQ],encapsulation:2})}}return c})()},89445:($,T,r)=>{r.d(T,{I:()=>x});var _=r(10467),p=r(60177),e=r(54438),s=r(89417),E=r(75351),g=r(30636),U=r(99213),l=r(59042),t=r(22080),n=r(45794),C=r(49192),b=r(3366),y=r(73387);let x=(()=>{class R{constructor(a,h,P,M,O,c){this.fb=a,this.route=h,this._apiService=P,this._tableUserProfileService=M,this.dialogRef=O,this.data=c,this.isLoading=!1,this.toast=(0,e.WQX)(n.tw)}get disabledInput(){return this._tableUserProfileService.disabledInput()}get isLoadingInput(){return this._tableUserProfileService.isLoadingInput()}get detailDataUserProfile(){return this._tableUserProfileService.detailDataUserProfile()}onNoClick(){this.dialogRef.close()}ngOnInit(){var a=this;return(0,_.A)(function*(){if(a.userProfileFormEdit=a.fb.group({shared_users:["",[s.k0.required,s.k0.pattern(/^\d+$/)]],upload:["",[s.k0.required,s.k0.pattern(/^\d+M$/)]],download:["",[s.k0.required,s.k0.pattern(/^\d+M$/)]],link:["",[s.k0.required,s.k0.pattern(/^(https?:\/\/)?([\w-]+\.)*[\w-]+\.[a-z]{2,}(\/[\w-./?%&=]*)?$/i)]]}),a.disabledInput||a.isLoadingInput?a.userProfileFormEdit.disable():a.userProfileFormEdit.enable(),a.detailDataUserProfile)try{const[h,P]=a.detailDataUserProfile.rate_limit.split("/");a.profile_datas=a.detailDataUserProfile,a.userProfileFormEdit.patchValue({profile_Name:a.profile_name,shared_users:a.profile_datas.shared_users,upload:h,download:P,link:a.profile_datas.link})}catch{a.toast.error("Failed Fetch Data","Error")}})()}onSubmit(){var a=this;return(0,_.A)(function*(){try{if(a.isLoading=!0,a.userProfileFormEdit.valid){const h=new FormData,P=`${a.userProfileFormEdit.value.upload}/${a.userProfileFormEdit.value.download}`;h.append("shared_users",a.userProfileFormEdit.value.shared_users),h.append("rate_limit",P),h.append("link",a.userProfileFormEdit.value.link),"Hotspot profile and link updated successfully"==(yield a._apiService.post(`/api/mikrotik/hotspot-profile/${a.profile_datas.profile_name}`,h)).message?(a.userProfileFormEdit.disable(),a.userProfileFormEdit.reset(),a.isLoading=!1,a.toast.success("Success Update User Profile","Success"),a._tableUserProfileService.fetchData(),a.onNoClick()):(a.toast.error("Failed Update User Profile","Error"),a.isLoading=!1)}else a.toast.info("Please fill in all required fields!","Error"),a.isLoading=!1}catch{a.toast.error("Failed Update User Profile","Error"),a.isLoading=!1}finally{a.isLoading=!1}})()}static{this.\u0275fac=function(h){return new(h||R)(e.rXU(s.ok),e.rXU(C.nX),e.rXU(b.G),e.rXU(y.Q),e.rXU(E.CP),e.rXU(E.Vh))}}static{this.\u0275cmp=e.VBU({type:R,selectors:[["app-form-edit"]],decls:28,vars:6,consts:[[1,"h-full","w-full"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,"p-3"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-4","py-4","pb-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","number","formControlName","shared_users",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","upload",3,"placeholder"],["matInput","","pattern","^\\d+M$","formControlName","download",3,"placeholder"],["matInput","","formControlName","link",3,"placeholder"],[1,"bg-blue-600","text-white","p-2","font-semibold","rounded",3,"click"]],template:function(h,P){1&h&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Edit User Profile"),e.k0s()(),e.j41(5,"a",4),e.bIt("click",function(){return P.onNoClick()}),e.nrm(6,"mat-icon",5),e.k0s()(),e.nrm(7,"ion-loading",6),e.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),e.EFF(12,"Shared User"),e.k0s(),e.nrm(13,"input",10),e.k0s(),e.j41(14,"mat-form-field",9)(15,"mat-label"),e.EFF(16,"Upload"),e.k0s(),e.nrm(17,"input",11),e.k0s(),e.j41(18,"mat-form-field",9)(19,"mat-label"),e.EFF(20,"Download"),e.k0s(),e.nrm(21,"input",12),e.k0s(),e.j41(22,"mat-form-field",9)(23,"mat-label"),e.EFF(24,"Direct Link"),e.k0s(),e.nrm(25,"input",13),e.k0s(),e.j41(26,"button",14),e.bIt("click",function(){return P.onSubmit()}),e.EFF(27," Edit User Profile "),e.k0s()()()()),2&h&&(e.R7$(7),e.Y8G("isOpen",P.isLoading),e.R7$(2),e.Y8G("formGroup",P.userProfileFormEdit),e.R7$(4),e.Y8G("placeholder","How many accounts can be connected? (e.g. 10)"),e.R7$(4),e.Y8G("placeholder","Upload Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","Download Limit (e.g. 10M)"),e.R7$(4),e.Y8G("placeholder","https://awh.co.id/"))},dependencies:[g.RG,g.rl,g.nJ,s.YN,s.qT,s.me,s.Q0,s.BC,s.cb,s.R_,l.fS,l.fg,s.X1,s.j4,s.JD,p.MD,U.m_,U.An,t.rQ],encapsulation:2})}}return R})()},65388:($,T,r)=>{r.r(T),r.d(T,{default:()=>V});var _=r(10467),p=r(60177),e=r(54438),s=r(88834),E=r(75351),g=r(96695),U=r(2042),l=r(9159),t=r(31849),n=r(59042),C=r(89417),b=r(99213),y=r(45794);const x=[[13273596e5,30.95],[1327446e6,31.34],[13275324e5,31.18],[13276188e5,31.05],[1327878e6,31],[13279644e5,30.95],[13280508e5,31.24],[13281372e5,31.29],[13282236e5,31.85]];var R=r(2359),W=r(89445),a=r(46601),h=r(3366),P=r(73387);const M=()=>[5,10,20];function O(o,v){1&o&&(e.j41(0,"div",22),e.nrm(1,"div",23)(2,"div",23)(3,"div",23)(4,"div",23)(5,"div",23)(6,"div",23)(7,"div",24),e.k0s())}function c(o,v){1&o&&(e.j41(0,"mat-header-cell",36),e.EFF(1," Profile Name "),e.k0s())}function L(o,v){1&o&&(e.j41(0,"div",22),e.nrm(1,"div",23),e.k0s())}function f(o,v){if(1&o&&(e.j41(0,"mat-cell",37),e.EFF(1),e.k0s()),2&o){const i=v.$implicit;e.R7$(),e.SpI(" ",i.profile_name," ")}}function k(o,v){1&o&&(e.j41(0,"mat-header-cell",38),e.EFF(1," Shared Users "),e.k0s())}function m(o,v){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const i=v.$implicit;e.R7$(),e.SpI(" ",i.shared_users," ")}}function w(o,v){1&o&&(e.j41(0,"mat-header-cell",38),e.EFF(1," Rate Limit "),e.k0s())}function S(o,v){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const i=v.$implicit;e.R7$(),e.SpI(" ",i.rate_limit," ")}}function I(o,v){1&o&&(e.j41(0,"mat-header-cell",38),e.EFF(1," Action "),e.k0s())}function j(o,v){if(1&o){const i=e.RV6();e.j41(0,"div",40)(1,"a",41),e.bIt("click",function(){e.eBV(i);const u=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.deteleProfiles(u.profile_name))}),e.nrm(2,"mat-icon",42),e.k0s(),e.j41(3,"a",43),e.bIt("click",function(){e.eBV(i);const u=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.editUsersProfile(u.profile_name))}),e.nrm(4,"mat-icon",44),e.k0s()()}}function F(o,v){if(1&o&&(e.j41(0,"mat-cell"),e.DNE(1,j,5,0,"div",39),e.k0s()),2&o){const i=v.$implicit;e.R7$(),e.Y8G("ngIf","default"!=i.profile_name)}}function G(o,v){1&o&&e.nrm(0,"mat-header-row")}function N(o,v){1&o&&e.nrm(0,"mat-row")}function A(o,v){if(1&o&&(e.j41(0,"mat-table",25,2)(2,"div"),e.qex(3,26),e.DNE(4,c,2,0,"mat-header-cell",27)(5,L,2,0,"div",17)(6,f,2,1,"mat-cell",28),e.bVm(),e.qex(7,29),e.DNE(8,k,2,0,"mat-header-cell",30)(9,m,2,1,"mat-cell",31),e.bVm(),e.qex(10,32),e.DNE(11,w,2,0,"mat-header-cell",30)(12,S,2,1,"mat-cell",31),e.bVm(),e.qex(13,33),e.DNE(14,I,2,0,"mat-header-cell",30)(15,F,2,1,"mat-cell",31),e.bVm(),e.DNE(16,G,1,0,"mat-header-row",34)(17,N,1,0,"mat-row",35),e.k0s()()),2&o){const i=e.XpG();e.Y8G("dataSource",i.dataSource),e.R7$(5),e.Y8G("ngIf",i.isLoading),e.R7$(11),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns)}}function B(o,v){1&o&&(e.j41(0,"div",45)(1,"div",46),e.nrm(2,"img",47),e.j41(3,"h1",48),e.EFF(4,"Data Not Found"),e.k0s()()())}let Y=(()=>{class o{constructor(i,d,u,D){this.fuseConfirmationService=i,this._apiService=d,this._matDialog=u,this._tableUserProfileService=D,this.displayedColumns=["name","shared_users","rate_limit","action"],this.dataSource=new l.I6,this.toast=(0,e.WQX)(y.tw),(0,e.QZP)(()=>{this.dataSource.data=this.userProfile})}get userProfile(){return this._tableUserProfileService.hotspotUserProfile()}get isLoading(){return this._tableUserProfileService.isLoading()}set setIsLoading(i){this._tableUserProfileService.isLoading.set(i)}set setIsNotDataFound(i){this._tableUserProfileService.isNotFound.set(i)}get isNotDataFound(){return this._tableUserProfileService.isNotFound()}ngOnInit(){var i=this;return(0,_.A)(function*(){yield i._tableUserProfileService.fetchData()})()}fetchData(){return(0,_.A)(function*(){})()}addNewUserProfile(){this._matDialog.open(R.X,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editUsersProfile(i){var d=this;return(0,_.A)(function*(){yield d._tableUserProfileService.fetchDataByName(i),d._matDialog.open(W.I,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})})()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(i){i=i.trim().toLowerCase(),this.dataSource.filterPredicate=(d,u)=>d.profile_name.toLowerCase().includes(u),console.log(x),this.dataSource.filter=i,this.setIsNotDataFound=0===this.dataSource.filteredData.length}deteleProfiles(i){this.fuseConfirmationService.open({title:"Delete Confirmation",message:`Are you sure want to delete ${i}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(u=>{"confirmed"===u&&this.deleteProfileByName(i)})}deleteProfileByName(i){var d=this;return(0,_.A)(function*(){try{"Hotspot profile deleted successfully"===(yield d._apiService.delete(`/api/mikrotik/delete-profile/${i}`,!0)).message?(d._tableUserProfileService.fetchData(),d.toast.success("Success Delete User Profile","Success")):d.toast.error("Failed Delete User Profile","Error")}catch{d.toast.error("Failed Delete User Profile","Error")}})()}static{this.\u0275fac=function(d){return new(d||o)(e.rXU(a.G),e.rXU(h.G),e.rXU(E.bZ),e.rXU(P.Q))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-table-user-profile"]],viewQuery:function(d,u){if(1&d&&(e.GBs(U.B4,5),e.GBs(g.iy,5)),2&d){let D;e.mGM(D=e.lsd())&&(u.sort=D.first),e.mGM(D=e.lsd())&&(u.paginator=D.first)}},decls:23,vars:9,consts:[["fuseCard",""],["paginator",""],["table",""],[1,"my-4"],[1,"flex","flex-col","shadow-md"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search User Profile",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],[1,"flex","items-center","gap-2"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"block","ml-2"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap"],["matSort","","class","min-w-160 max-sm:min-w-128",3,"dataSource",4,"ngIf"],["class","my-10",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],["matSort","",1,"min-w-160","max-sm:min-w-128",3,"dataSource"],["matColumnDef","name"],["mat-sort-header","profile_name",4,"matHeaderCellDef"],["class","py-4 font-medium",4,"matCellDef"],["matColumnDef","shared_users"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","rate_limit"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header","profile_name"],[1,"py-4","font-medium"],["mat-sort-header",""],["class","px-2 sm:px-6 flex items-center",4,"ngIf"],[1,"px-2","sm:px-6","flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"],[1,"my-10"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"]],template:function(d,u){if(1&d){const D=e.RV6();e.j41(0,"main",3)(1,"fuse-card",4,0)(3,"div",5)(4,"label",6),e.EFF(5,"Search"),e.k0s(),e.j41(6,"div",7)(7,"div",8),e.qSk(),e.j41(8,"svg",9),e.nrm(9,"path",10),e.k0s()(),e.joV(),e.j41(10,"input",11),e.bIt("keyup",function(Q){return e.eBV(D),e.Njj(u.applyFilter(Q.target.value))}),e.k0s()(),e.j41(11,"div",12)(12,"div",13)(13,"a",14),e.bIt("click",function(){return e.eBV(D),e.Njj(u.addNewUserProfile())}),e.nrm(14,"mat-icon",15),e.j41(15,"span",16),e.EFF(16,"Add User Profile"),e.k0s()()()()(),e.DNE(17,O,8,0,"div",17),e.j41(18,"div",18),e.DNE(19,A,18,4,"mat-table",19),e.k0s(),e.DNE(20,B,5,0,"div",20),e.nrm(21,"mat-paginator",21,1),e.k0s()()}2&d&&(e.R7$(13),e.Y8G("color","primary"),e.R7$(),e.Y8G("svgIcon","person_add_alt_1"),e.R7$(3),e.Y8G("ngIf",u.isLoading),e.R7$(2),e.Y8G("ngIf",!u.isLoading),e.R7$(),e.Y8G("ngIf",u.isNotDataFound&&!u.isLoading),e.R7$(),e.Y8G("pageSize",10)("pageSizeOptions",e.lJ4(8,M))("showFirstLastButtons",!0))},dependencies:[p.MD,p.bT,s.Hl,s.It,g.Ou,g.iy,E.hM,l.tP,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,b.m_,b.An,C.X1,n.fS,n.fg,U.NQ,U.B4,U.aE,t.$],encapsulation:2})}}return o})();var K=r(49192);const X=()=>["/dashboards/home"],V=[{path:"",component:(()=>{class o{static{this.\u0275fac=function(d){return new(d||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-role-management"]],decls:16,vars:2,consts:[[1,"w-full","flex","flex-col"],[1,"px-6","pt-4","flex","justify-between","items-start","sm:items-center","flex-col","sm:flex-row","gap-5","sm:gap-0"],[1,"font-bold","text-lg","sm:text-3xl"],[1,"text-sm","sm:text-base"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-gray-500","hover:cursor-pointer","hover:text-blue-400",3,"routerLink"],[1,"mx-2","text-gray-400"],[1,"font-semibold","text-blue-600","hover:text-blue-500","truncate"],[1,"w-full","px-4"]],template:function(d,u){1&d&&(e.j41(0,"main",0)(1,"div",1)(2,"div")(3,"h1",2),e.EFF(4,"Hotspot User Profile"),e.k0s(),e.j41(5,"p",3),e.EFF(6,"This page shows all available user profiles used for hotspot access. Profiles help manage bandwidth for each vouchers"),e.k0s()(),e.j41(7,"div",4)(8,"span",5),e.EFF(9,"Home"),e.k0s(),e.j41(10,"span",6),e.EFF(11,"/"),e.k0s(),e.j41(12,"span",7),e.EFF(13,"Hotspot User Profile"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-table-user-profile"),e.k0s()()),2&d&&(e.R7$(8),e.Y8G("routerLink",e.lJ4(1,X)))},dependencies:[Y,K.Wk],encapsulation:2})}}return o})()},{path:"add-role",loadChildren:()=>r.e(3680).then(r.bind(r,63680))},{path:"edit-role/:name",loadChildren:()=>r.e(1954).then(r.bind(r,61954))}]},73387:($,T,r)=>{r.d(T,{Q:()=>E});var _=r(10467),p=r(54438),e=r(3366),s=r(45794);let E=(()=>{class g{constructor(){this.hotspotUserProfile=(0,p.vPA)([]),this.isLoading=(0,p.vPA)(!1),this.isNotFound=(0,p.vPA)(!1),this._toastService=(0,p.WQX)(s.tw),this._apiService=(0,p.WQX)(e.G),this.disabledInput=(0,p.vPA)(!1),this.isLoadingInput=(0,p.vPA)(!1),this.detailDataUserProfile=(0,p.vPA)(null)}fetchData(){var l=this;return(0,_.A)(function*(){l.isLoading.set(!0),l._apiService.get("/api/mikrotik/get-profile",!0).then(function(){var t=(0,_.A)(function*(n){l.isLoading.set(!1),l.isNotFound.set(!1),l.hotspotUserProfile.set(n.profiles)});return function(n){return t.apply(this,arguments)}}()).catch(function(){var t=(0,_.A)(function*(n){l.isLoading.set(!1),l.isNotFound.set(!0),l._toastService.error("Failed to fetch data","Error")});return function(n){return t.apply(this,arguments)}}())})()}fetchDataByName(l){var t=this;return(0,_.A)(function*(){t.isLoadingInput.set(!0),yield t._apiService.get(`/api/mikrotik/get-profile/${l}`,!0).then(function(){var n=(0,_.A)(function*(C){t.isLoadingInput.set(!1),t.detailDataUserProfile.set(C)});return function(C){return n.apply(this,arguments)}}()).catch(function(){var n=(0,_.A)(function*(C){t.disabledInput.set(!0),t._toastService.error("Failed to fetch data","Error")});return function(C){return n.apply(this,arguments)}}())})()}static{this.\u0275fac=function(t){return new(t||g)}}static{this.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()}}]);